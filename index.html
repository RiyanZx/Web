<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Website RiyanZx</title>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <style>
    body {font-family:sans-serif;background:#f4f9fd;margin:0;padding:0;}
    .navbar {background:#0072ff;color:#fff;padding:1rem;display:flex;justify-content:space-between;align-items:center;}
    .navbar h1 {margin:0;font-size:1.5rem;}
    .menu {cursor:pointer;font-size:1.5rem;}
    .page {display:none;padding:2rem;}
    .active {display:block;}
    .btn {background:#0072ff;color:#fff;border:none;padding:0.7rem 1.5rem;border-radius:0.4rem;cursor:pointer;margin-top:1rem;}
    .btn:hover {background:#005dc0;}
    input {width:100%;padding:0.7rem;margin-top:0.7rem;border:1px solid #ccc;border-radius:0.4rem;}
    .product {border:1px solid #ddd;padding:1rem;margin:1rem 0;border-radius:0.5rem;background:#fff;}
    .product h3 {margin:0;}
    .methods {display:flex;flex-wrap:wrap;gap:10px;margin-top:1rem;}
    .methods button {flex:1;background:#eee;border:none;padding:0.7rem;border-radius:0.4rem;cursor:pointer;}
    .methods button:hover {background:#ddd;}
    .sidebar {position:fixed;top:0;left:0;width:200px;height:100%;background:#fff;box-shadow:2px 0 5px rgba(0,0,0,0.1);padding:1rem;display:none;}
    .sidebar a {display:block;margin:1rem 0;text-decoration:none;color:#333;}
    .modal {position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:none;align-items:center;justify-content:center;}
    .modal img {max-width:90%;border-radius:8px;}
  </style>
</head>
<body>

<div class="navbar">
  <h1>RiyanZx Store</h1>
  <div class="menu" onclick="toggleSidebar()">â˜°</div>
</div>

<div class="sidebar" id="sidebar">
  <a href="#" onclick="showPage('home')">Dashboard</a>
  <a href="#" onclick="showPage('produk')">Produk</a>
  <a href="#" onclick="showPage('bayar')">Pembayaran</a>
  <a href="#" onclick="showPage('admin')">Admin</a>
</div>

<div class="page active" id="home">
  <h2>Selamat Datang di Store RiyanZx</h2>
  <p>Website ini dirancang untuk transaksi produk digital</p>
  <a class="btn" href="https://wa.me/6285793901218">Hubungi via WhatsApp</a>
</div>

<div class="page" id="produk">
  <h2>Produk Kami</h2>

  <div class="product">
    <h3>Panel Unli 5K</h3>
    <p>Panel unlimited murah meriah ðŸ”¥</p>
    <p><b>Harga:</b> Rp5.000</p>
    <button class="btn" onclick="buy('Panel Unli 5K')">Beli via WhatsApp</button>
    <button class="btn" onclick="buyTG()">Beli via Telegram</button>
  </div>

  <div class="product">
    <h3>Script Kayzen V5</h3>
    <p>Script bot WhatsApp premium</p>
    <p><b>Harga:</b> Rp15.000</p>
    <button class="btn" onclick="buy('Script Kayzen V5')">Beli via WhatsApp</button>
    <button class="btn" onclick="buyTG()">Beli via Telegram</button>
  </div>
</div>

<div class="page" id="bayar">
  <h2>Form Pembayaran</h2>
  <form id="formBayar">
    <input type="text" id="nama" placeholder="Nama Lengkap" required>
    <input type="text" id="wa" placeholder="Nomor WhatsApp" required>
    <input type="text" id="desc" placeholder="Deskripsi Pembelian" required>
    <input type="number" id="nominal" placeholder="Nominal (Rp)" required>
    <div class="methods">
      <button type="button" onclick="setMethod('Dana', '0857-9390-1218')">Dana</button>
      <button type="button" onclick="setMethod('GoPay', '0857-9390-1218')">GoPay</button>
      <button type="button" onclick="setMethod('OVO', 'Tidak tersedia')">OVO</button>
      <button type="button" onclick="setMethod('QRIS', 'https://files.catbox.moe/1fodlk.jpg')">QRIS</button>
    </div>
    <div id="metodeInfo" style="margin-top:1rem;"></div>
    <input type="file" id="bukti" accept="image/*" required>
    <button class="btn" type="submit">Kirim Pembayaran</button>
  </form>
</div>

<div class="page" id="admin">
  <h2>Login Admin</h2>
  <input type="password" id="adminPass" placeholder="Masukkan Password">
  <button class="btn" onclick="loginAdmin()">Login</button>
  <div id="adminPanel" style="margin-top:2rem;"></div>
</div>

<div class="modal" id="imgModal" onclick="closeModal()">
  <img id="modalImage" src="">
</div>

<script>
  let metode = '';
  let metodeInfo = '';
  let dataPembayaran = [];

  emailjs.init("UgZAEMfRtb599Vbuh");

  function toggleSidebar(){
    const sb = document.getElementById('sidebar');
    sb.style.display = sb.style.display === 'block' ? 'none' : 'block';
  }

  function showPage(id){
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    toggleSidebar();
  }

  function buy(product){
    const url = `https://wa.me/6285793901218?text=Halo%20kak,%20saya%20mau%20beli%20${encodeURIComponent(product)}`;
    window.open(url, '_blank');
  }

  function buyTG(){
    window.open('https://t.me/RiyanZxDev', '_blank');
  }

  function setMethod(name, info){
    metode = name;
    if(name === 'QRIS'){
      metodeInfo = `<p><b>QRIS:</b><br><img src="${info}" style="max-width:150px;"></p>`;
    } else {
      metodeInfo = `<p><b>${name}:</b> ${info}</p>`;
    }
    document.getElementById('metodeInfo').innerHTML = metodeInfo;
  }

  document.getElementById('formBayar').addEventListener('submit', function(e){
    e.preventDefault();
    const nama = document.getElementById('nama').value;
    const wa = document.getElementById('wa').value;
    const desc = document.getElementById('desc').value;
    const nominal = document.getElementById('nominal').value;
    const bukti = document.getElementById('bukti').files[0];

    if(!metode || !bukti){
      alert("Pilih metode pembayaran dan upload bukti!");
      return;
    }

    const url = URL.createObjectURL(bukti);
    dataPembayaran.push({nama, wa, desc, nominal, metode, url});
    
    emailjs.send('service_8c0ojp8','template_cbemtbe', {
      name: nama,
      whatsapp: wa,
      description: desc,
      amount: nominal
    }).then(() => {
      alert('Pembayaran berhasil dikirim dan email notifikasi masuk!');
      document.getElementById('formBayar').reset();
      document.getElementById('metodeInfo').innerHTML = '';
    });
  });

  function loginAdmin(){
    const pass = document.getElementById('adminPass').value;
    if(pass === "Killua"){
      let output = '<h3>Data Pembayaran:</h3>';
      if(dataPembayaran.length === 0){
        output += '<p>Belum ada data</p>';
      } else {
        dataPembayaran.forEach((d, i) => {
          output += `
            <div style="border:1px solid #ccc;padding:1rem;margin:1rem 0;">
              <p><b>Nama:</b> ${d.nama}</p>
              <p><b>WA:</b> ${d.wa}</p>
              <p><b>Deskripsi:</b> ${d.desc}</p>
              <p><b>Nominal:</b> Rp${d.nominal}</p>
              <p><b>Metode:</b> ${d.metode}</p>
              <img src="${d.url}" style="width:100px;cursor:pointer;" onclick="zoom('${d.url}')">
            </div>
          `;
        });
      }
      document.getElementById('adminPanel').innerHTML = output;
    } else {
      alert("Password salah!");
    }
  }

  function zoom(src){
    document.getElementById('modalImage').src = src;
    document.getElementById('imgModal').style.display = 'flex';
  }

  function closeModal(){
    document.getElementById('imgModal').style.display = 'none';
  }
</script>

</body>
</html>
